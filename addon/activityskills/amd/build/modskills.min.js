define("skilladdon_activityskills/modskills",["jquery","core/modal_factory","core/str","core_form/modalform"],(function($,ModalFactory,Str,ModalForm){const SELECTORS={table:"#mod_skills_list",editskill:'[data-target="toolskill-edit"]',skillsRow:"#mod_skills_list .skill-actions a.action-edit"};class ToolSkillsActivity{constructor(skillID,courseID,modID){this.SELECTORS=SELECTORS,this.skillCourseID="",this.skillID=skillID,this.courseID=courseID,this.modID=modID,this.SELECTORS.root='#mod_skills_list [data-skillid="'+this.skillID+'"]',this.addActionListiners()}getRoot(){return document.querySelector(this.SELECTORS.root)}showContentForm(){const modalForm=new ModalForm({formClass:"skilladdon_activityskills\\form\\course_mod_form",args:{courseid:this.courseID,skill:this.skillID,modid:this.modID},modalConfig:{title:Str.get_string("moduleskills","skilladdon_activityskills")}});modalForm.show(),modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,(function(){window.location.reload()}))}addActionListiners(){var self=this;this.getRoot().addEventListener("click",(function(e){e.target.closest(SELECTORS.editskill)&&(e.preventDefault(),self.showContentForm())}))}static createInstances(courseID,modID){let skills=document.querySelectorAll(SELECTORS.skillsRow);const skillsList=[];var skill;null!==skills&&skills.forEach((skl=>{var skillID=skl.dataset.skillid;skillID in skillsList?skill=skillsList[skillID]:(skill=new ToolSkillsActivity(skillID,courseID,modID),skillsList[skillID]=skill)}))}}return{init:function(courseID,modID){ToolSkillsActivity.createInstances(courseID,modID)}}}));

//# sourceMappingURL=modskills.min.js.map